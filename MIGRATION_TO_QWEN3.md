# –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Qwen3 (Alem.ai API)

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω `.env`
–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```env
ALEMAI_API_QWEN3_KEY='sk-8WvjO-EJsMTmQF1o3fIsCA'
ALEMAI_BASE_URL='https://llm.alem.ai/v1'
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω `LLMManager.py`
- –ò–∑–º–µ–Ω–µ–Ω API –∫–ª—é—á: `OPENAI_API_KEY` ‚Üí `ALEMAI_API_QWEN3_KEY`
- –ò–∑–º–µ–Ω–µ–Ω base_url: `https://llm.alem.ai/v1`
- –ò–∑–º–µ–Ω–µ–Ω–∞ –º–æ–¥–µ–ª—å: `gpt-4` ‚Üí `qwen3`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### 3. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### ‚úÖ –¢–µ—Å—Ç 1: –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å
```
–í–æ–ø—Ä–æ—Å: "Hello, world! –û—Ç–≤–µ—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ."
–û—Ç–≤–µ—Ç: "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä! –ö–∞–∫ —è –º–æ–≥—É –≤–∞–º –ø–æ–º–æ—á—å?"
–°—Ç–∞—Ç—É—Å: –£–°–ü–ï–®–ù–û ‚úÖ
```

#### ‚úÖ –¢–µ—Å—Ç 2: –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
```
System: "–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –∏–Ω–¥—É—Å—Ç—Ä–∏–∏. –û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É."
–í–æ–ø—Ä–æ—Å: "–ö–∞–∫ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Spotify?"
–û—Ç–≤–µ—Ç: –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å —à–∞–≥–∞–º–∏
–°—Ç–∞—Ç—É—Å: –£–°–ü–ï–®–ù–û ‚úÖ
```

#### ‚ö†Ô∏è –¢–µ—Å—Ç 3: JSON –æ—Ç–≤–µ—Ç (—Ä–æ—É—Ç–∏–Ω–≥)
```
–°—Ç–∞—Ç—É—Å: TIMEOUT (–ø—Ä–µ–≤—ã—à–µ–Ω —Ç–∞–π–º–∞—É—Ç 30 —Å–µ–∫—É–Ω–¥)
–ü—Ä–∏—á–∏–Ω–∞: –í–æ–∑–º–æ–∂–Ω–æ, –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ API –∏–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–º–ø—Ç–∞
```

## üéØ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

LangChain's `ChatOpenAI` –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å Alem.ai API, —Ç–∞–∫ –∫–∞–∫ API —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É OpenAI.

## üìù –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã
2. ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
3. ‚úÖ –†—É—Å—Å–∫–∏–π —è–∑—ã–∫
4. ‚úÖ Markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
5. ‚úÖ Retry –º–µ—Ö–∞–Ω–∏–∑–º (2 –ø–æ–ø—ã—Ç–∫–∏)
6. ‚úÖ –¢–∞–π–º–∞—É—Ç—ã (30 —Å–µ–∫—É–Ω–¥)

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM

```python
llm_kwargs = {
    "model": "qwen3",
    "temperature": 0,
    "api_key": self.api_key,
    "base_url": base_url,
    "timeout": 30.0,
    "max_retries": 2,
}
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

–í—Å–µ FAQ –∞–≥–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ `LLMManager`:
- `VerificationAgent`
- `ReleaseCoverAgent`
- `LyricsAgent`
- `OrchestratorAgent`

–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∞–≥–µ–Ω—Ç–∞—Ö –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞: ~6-20 —Å–µ–∫—É–Ω–¥
- Retry –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö: –¥–∞ (–¥–æ 2 —Ä–∞–∑)
- –¢–∞–π–º–∞—É—Ç: 30 —Å–µ–∫—É–Ω–¥

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö JSON-–ø—Ä–æ–º–ø—Ç–æ–≤ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞
2. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å retry –∑–∞–ø—Ä–æ—Å—ã –≤ –ª–æ–≥–∞—Ö
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ OpenAI, –∏–∑–º–µ–Ω–∏–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`

## üîÑ –û—Ç–∫–∞—Ç –∫ OpenAI (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ü—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `LLMManager.py`:
```python
self.api_key = os.getenv("OPENAI_API_KEY")
base_url = None  # –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä
llm_kwargs["model"] = "gpt-4"
```
