# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –±–æ—Ç–æ–º

## ü§ñ API Endpoint –¥–ª—è –±–æ—Ç–∞

### –û—Å–Ω–æ–≤–Ω–∞—è —Ä—É—á–∫–∞: `/query`

**URL:** `http://your-server:8000/query`

**–ú–µ—Ç–æ–¥:** `POST`

**Content-Type:** `application/json`

---

## üìù –§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞

```json
{
  "question": "–ö–∞–∫ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Spotify?",
  "uuid": "telegram_user_123456",
  "artist_name": null
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `question` | string | ‚úÖ –î–∞ | –í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `uuid` | string | ‚ùå –ù–µ—Ç | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å telegram user_id) |
| `artist_name` | string | ‚ùå –ù–µ—Ç | –ò–º—è –∞—Ä—Ç–∏—Å—Ç–∞ (–¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–æ–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è) |

---

## üì§ –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

```json
{
  "answer": "üéµ **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ Spotify for Artists**\n\n**–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞**\n‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å...",
  "agent_used": "verification",
  "routing_confidence": "high"
}
```

### –ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞:

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `answer` | string | –û—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown |
| `agent_used` | string | –ö–∞–∫–æ–π –∞–≥–µ–Ω—Ç –æ–±—Ä–∞–±–æ—Ç–∞–ª –∑–∞–ø—Ä–æ—Å |
| `routing_confidence` | string | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ä–æ—É—Ç–∏–Ω–≥–∞ (high/medium/low) |

---

## üêç –ü—Ä–∏–º–µ—Ä –Ω–∞ Python (–¥–ª—è Telegram –±–æ—Ç–∞)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `requests`

```python
import requests

def ask_agent(question: str, user_id: int) -> str:
    """
    –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–æ–ø—Ä–æ—Å –∫ –∞–≥–µ–Ω—Ç—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç
    
    Args:
        question: –í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        user_id: Telegram user ID
    
    Returns:
        –û—Ç–≤–µ—Ç –æ—Ç –∞–≥–µ–Ω—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown
    """
    url = "http://localhost:8000/query"
    
    payload = {
        "question": question,
        "uuid": f"telegram_{user_id}",
        "artist_name": None
    }
    
    try:
        response = requests.post(url, json=payload, timeout=60)
        response.raise_for_status()
        
        data = response.json()
        return data.get("answer", "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç")
        
    except requests.exceptions.RequestException as e:
        return f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ API: {str(e)}"
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `aiohttp` (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)

```python
import aiohttp

async def ask_agent_async(question: str, user_id: int) -> str:
    """
    –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–æ–ø—Ä–æ—Å –∫ –∞–≥–µ–Ω—Ç—É
    
    Args:
        question: –í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        user_id: Telegram user ID
    
    Returns:
        –û—Ç–≤–µ—Ç –æ—Ç –∞–≥–µ–Ω—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown
    """
    url = "http://localhost:8000/query"
    
    payload = {
        "question": question,
        "uuid": f"telegram_{user_id}",
        "artist_name": None
    }
    
    try:
        async with aiohttp.ClientSession() as session:
            async with session.post(url, json=payload, timeout=60) as response:
                response.raise_for_status()
                data = await response.json()
                return data.get("answer", "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç")
                
    except aiohttp.ClientError as e:
        return f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ API: {str(e)}"
```

---

## ü§ñ –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å aiogram (Telegram Bot)

### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –±–æ—Ç–∞:

```python
import asyncio
import aiohttp
from aiogram import Bot, Dispatcher, types
from aiogram.filters import Command
from aiogram import F

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
TELEGRAM_TOKEN = "your_telegram_bot_token"
API_URL = "http://localhost:8000/query"

bot = Bot(token=TELEGRAM_TOKEN)
dp = Dispatcher()


async def ask_agent(question: str, user_id: int) -> dict:
    """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–æ–ø—Ä–æ—Å –∫ –∞–≥–µ–Ω—Ç—É"""
    payload = {
        "question": question,
        "uuid": f"telegram_{user_id}",
        "artist_name": None
    }
    
    async with aiohttp.ClientSession() as session:
        async with session.post(API_URL, json=payload, timeout=60) as response:
            return await response.json()


@dp.message(Command("start"))
async def cmd_start(message: types.Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start"""
    await message.answer(
        "üëã –ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç –ª–µ–π–±–ª–∞ √µzen.\n\n"
        "–Ø –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∞—Ä—Ç–∏—Å—Ç–æ–≤ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö:\n"
        "‚Ä¢ Spotify for Artists\n"
        "‚Ä¢ Apple Music for Artists\n"
        "‚Ä¢ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∞ (—á–µ—Ä–µ–∑ BandLink)\n"
        "‚Ä¢ VK Studio\n\n"
        "–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å!",
        parse_mode="Markdown"
    )


@dp.message(F.text)
async def handle_question(message: types.Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π"""
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ –±–æ—Ç –¥—É–º–∞–µ—Ç
    thinking_msg = await message.answer("ü§î –î—É–º–∞—é...")
    
    try:
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å –∫ –∞–≥–µ–Ω—Ç—É
        result = await ask_agent(
            question=message.text,
            user_id=message.from_user.id
        )
        
        answer = result.get("answer", "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç")
        
        # –£–¥–∞–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ "–î—É–º–∞—é..."
        await thinking_msg.delete()
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç
        await message.answer(answer, parse_mode="Markdown")
        
    except Exception as e:
        await thinking_msg.edit_text(
            f"‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: {str(e)}"
        )


async def main():
    """–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞"""
    print("ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!")
    await dp.start_polling(bot)


if __name__ == "__main__":
    asyncio.run(main())
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –±–æ—Ç–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install aiogram aiohttp
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:

```env
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
API_URL=http://localhost:8000/query
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä:

```bash
cd /path/to/music_analyzer_agent
source venv/bin/activate
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```bash
python telegram_bot.py
```

---

## üìã –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```
‚úÖ "–ö–∞–∫ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Spotify?"
‚úÖ "–ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã –¥–ª—è Apple Music?"
‚úÖ "–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è?"
‚úÖ "–ö–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ VK Studio?"
‚úÖ "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –≤ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–µ?"
```

---

## üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ curl

```bash
# –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å
curl -X POST "http://localhost:8000/query" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "–ö–∞–∫ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Spotify?",
    "uuid": "test_user_123"
  }'

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –∞—Ä—Ç–∏—Å—Ç–∞ (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)
curl -X POST "http://localhost:8000/query" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "–ö–∞–∫ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Spotify?",
    "uuid": "test_user_123",
    "artist_name": "Artist Name"
  }'
```

---

## ‚ö° –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. **Timeout**
–ó–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å 5-30 —Å–µ–∫—É–Ω–¥ (–≤—ã–∑–æ–≤ LLM). –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ timeout –º–∏–Ω–∏–º—É–º 60 —Å–µ–∫—É–Ω–¥.

```python
timeout=60  # –∏–ª–∏ aiohttp.ClientTimeout(total=60)
```

### 2. **Markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
–û—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown. –í Telegram –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```python
await message.answer(answer, parse_mode="Markdown")
```

### 3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
–í—Å–µ–≥–¥–∞ –æ–±–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –≤ try-except:

```python
try:
    result = await ask_agent(question, user_id)
except Exception as e:
    await message.answer(f"‚ùå –û—à–∏–±–∫–∞: {str(e)}")
```

### 4. **UUID –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Telegram user_id –∫–∞–∫ UUID:

```python
uuid = f"telegram_{message.from_user.id}"
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ (–¥–µ—Ç–∞–ª—å–Ω–æ)

```json
{
  "answer": "üéµ **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ Spotify for Artists**\n\n**–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞**\n‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –¥–µ–π—Å—Ç–≤—É—é—â–∏–π –∞–∫–∫–∞—É–Ω—Ç Spotify. –ï—Å–ª–∏ —É –≤–∞—Å –µ–≥–æ –Ω–µ—Ç, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ spotify.com.\n\n**–®–∞–≥ 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Spotify for Artists**\nüì± –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ artists.spotify.com –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Spotify for Artists –∏–∑ App Store –∏–ª–∏ Google Play.\nüîë –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´Get Access¬ª –∏–ª–∏ ¬´–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø¬ª –∏ –≤–æ–π–¥–∏—Ç–µ —Å –≤–∞—à–∏–º –ª–æ–≥–∏–Ω–æ–º –∏ –ø–∞—Ä–æ–ª–µ–º –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞ Spotify.\nüìú –ü—Ä–∏–º–∏—Ç–µ —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏.\n\n**–®–∞–≥ 3: –ó–∞–ø—Ä–æ—Å –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ—Ñ–∏–ª—é –∞—Ä—Ç–∏—Å—Ç–∞**\nüé§ –ù–∞–π–¥–∏—Ç–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –∞—Ä—Ç–∏—Å—Ç–∞ –Ω–∞ Spotify. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–æ –∏–º–µ–Ω–Ω–æ –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å.\nüìù –£–∫–∞–∂–∏—Ç–µ —Å–≤–æ—é —Ä–æ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞—Ä—Ç–∏—Å—Ç, –º–µ–Ω–µ–¥–∂–µ—Ä –∏ —Ç.–¥.) –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ–±–µ –∏ –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ.\n\n**–®–∞–≥ 4: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∞–≤–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**\nüîó –ü—Ä–∏–≤—è–∂–∏—Ç–µ —Å–≤–æ–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Twitter, Instagram) –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–∞—à–µ–π –ª–∏—á–Ω–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–∏ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º –∞—Ä—Ç–∏—Å—Ç–∞.\nüìÑ Spotify –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–∞—à–µ–π –ª–∏—á–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∞–≤ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å –∞—Ä—Ç–∏—Å—Ç–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–ø–∏—è –ø–∞—Å–ø–æ—Ä—Ç–∞ –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏, –∞ —Ç–∞–∫–∂–µ –¥–æ–∫—É–º–µ–Ω—Ç, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–π –≤–∞—à–µ –ø—Ä–∞–≤–æ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∏–ª–∏ –¥–æ–≥–æ–≤–æ—Ä).\nüìß –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à—É –ø–æ—á—Ç—É –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–∞—à email.\n\n**–®–∞–≥ 5: –û–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**\n‚è≥ –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, Spotify –ø—Ä–æ–≤–µ–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É. –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π.\nüì¨ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ.\n\n**–®–∞–≥ 6: –î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**\nüîë –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –≤ –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞ artists.spotify.com –∏–ª–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.\n\n**–®–∞–≥ 7: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ Spotify for Artists**\nüéµ –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–≤–æ—é –±–∏–æ–≥—Ä–∞—Ñ–∏—é, —Ñ–æ—Ç–æ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω—Ü–µ—Ä—Ç–∞—Ö.\nüìä –î–æ—Å—Ç—É–ø –∫ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º –¥–∞–Ω–Ω—ã–º –æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è—Ö, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è—Ö –∏ –∞—É–¥–∏—Ç–æ—Ä–∏–∏.\nüöÄ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Å–≤–æ–µ–π –º—É–∑—ã–∫–∏, –≤–∫–ª—é—á–∞—è —Ä–µ–∫–ª–∞–º–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.",
  "agent_used": "verification",
  "routing_confidence": "high"
}
```

---

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Connection refused
```
–†–µ—à–µ–Ω–∏–µ: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8000
```

### –ü—Ä–æ–±–ª–µ–º–∞: Timeout
```
–†–µ—à–µ–Ω–∏–µ: –£–≤–µ–ª–∏—á—å—Ç–µ timeout –¥–æ 60+ —Å–µ–∫—É–Ω–¥
```

### –ü—Ä–æ–±–ª–µ–º–∞: Markdown –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
```
–†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ parse_mode="Markdown" –≤ Telegram
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ 422 (Validation Error)
```
–†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π JSON —Å –ø–æ–ª–µ–º "question"
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ - –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É API.

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2026-02-09
