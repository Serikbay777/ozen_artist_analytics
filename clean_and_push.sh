#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∏—Å—Ç–æ–≥–æ —Ä–µ–ø–æ —Å –æ–¥–Ω–∏–º –∫–æ–º–º–∏—Ç–æ–º

echo "üßπ –û—á–∏—Å—Ç–∫–∞ Git –∏—Å—Ç–æ—Ä–∏–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —á–∏—Å—Ç–æ–≥–æ —Ä–µ–ø–æ..."
echo ""

# –°–æ—Ö—Ä–∞–Ω—è–µ–º URL —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Ä–µ–ø–æ
REMOTE_URL=$(git remote get-url origin)
echo "üìç Remote URL: $REMOTE_URL"
echo ""

# –£–¥–∞–ª—è–µ–º .git –ø–∞–ø–∫—É
echo "1Ô∏è‚É£ –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é Git –∏—Å—Ç–æ—Ä–∏—é..."
rm -rf .git

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–æ–≤—ã–π —Ä–µ–ø–æ
echo "2Ô∏è‚É£ –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π..."
git init

# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º –≤–µ—Ç–∫—É –≤ master (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
git branch -M master

# –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã
echo "3Ô∏è‚É£ –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–π–ª—ã..."
git add .

# –°–æ–∑–¥–∞–µ–º –æ–¥–∏–Ω —á–∏—Å—Ç—ã–π –∫–æ–º–º–∏—Ç
echo "4Ô∏è‚É£ –°–æ–∑–¥–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç..."
git commit -m "Initial commit: Music Analyzer Agent with AI-powered analytics"

# –î–æ–±–∞–≤–ª—è–µ–º remote
echo "5Ô∏è‚É£ –î–æ–±–∞–≤–ª—è–µ–º remote..."
git remote add origin $REMOTE_URL

# –ü—É—à–∏–º —Å force
echo "6Ô∏è‚É£ –ü—É—à–∏–º –≤ GitHub (force push)..."
git push -u origin master --force

echo ""
echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–≤–µ—Ä—å GitHub: $REMOTE_URL"

