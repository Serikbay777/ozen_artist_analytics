# ะฃะฟัะพัะตะฝะฝะฐั Multi-Agent ะััะธัะตะบัััะฐ

## ๐๏ธ ะกัััะบัััะฐ

```
ะะพะฟัะพั ะฟะพะปัะทะพะฒะฐัะตะปั
        โ
โโโโโโโโโโโโโโโโโโโโโ
โ  ORCHESTRATOR     โ  โ ะะฝะฐะปะธะทะธััะตั ะฒะพะฟัะพั
โโโโโโโโโฌโโโโโโโโโโโโ
        โ
        โ
โโโโโโโโโโโโโโโโโโโโโ
โ  VERIFICATION     โ  โ ะัะฒะตัะฐะตั ะฝะฐ ะพัะฝะพะฒะต verification.txt
โ     AGENT         โ
โโโโโโโโโโโโโโโโโโโโโ
        โ
        โ
    ะัะฒะตั
```

## ๐ฆ ะะพะผะฟะพะฝะตะฝัั

### 1. OrchestratorAgent
- **ะคะฐะนะป:** `app/agents/OrchestratorAgent.py`
- **ะะพะปั:** ะัะพะฒะตััะตั ััะพ ะฒะพะฟัะพั ะพัะฝะพัะธััั ะบ ะฒะตัะธัะธะบะฐัะธะธ
- **ะััะพะด:** ะะฐะฟัะฐะฒะปัะตั ะบ verification_agent

### 2. VerificationAgent
- **ะคะฐะนะป:** `app/agents/faq/VerificationAgent.py`
- **ะะฐะทะฐ ะทะฝะฐะฝะธะน:** `app/services/faq/verification.txt`
- **ะะพะปั:** ะัะฒะตัะฐะตั ะฝะฐ ะฒะพะฟัะพัั ะพ ะฒะตัะธัะธะบะฐัะธะธ

**ะะพะบััะฒะฐะตั:**
- Apple Music for Artists
- Spotify for Artists
- BandLink x ะฏะฝะดะตะบั ะัะทัะบะฐ
- VK Studio

## ๐ ะะฐะบ ัะฐะฑะพัะฐะตั

```python
# 1. ะะพะฟัะพั
"ะะฐะบ ะฒะตัะธัะธัะธัะพะฒะฐัััั ะฒ Spotify?"

# 2. Orchestrator
โ "ะญัะพ ะฒะพะฟัะพั ะฟัะพ ะฒะตัะธัะธะบะฐัะธั"
โ ะะฐะฟัะฐะฒะปัะตั ะบ verification_agent

# 3. VerificationAgent
โ ะงะธัะฐะตั verification.txt
โ ะะฐัะพะดะธั ัะฐะทะดะตะป ะฟัะพ Spotify
โ ะคะพัะผะฐัะธััะตั ะพัะฒะตั

# 4. ะะตะทัะปััะฐั
"๐ต ะะตัะธัะธะบะฐัะธั ะฒ Spotify for Artists
   ะจะฐะณ 1: ะะพะดะณะพัะพะฒะบะฐ..."
```

## ๐ ะกัััะบัััะฐ ัะฐะนะปะพะฒ

```
app/
โโโ agents/
โ   โโโ OrchestratorAgent.py       โ ะะพััะตั
โ   โโโ WorkflowManager.py         โ LangGraph ัะฟัะฐะฒะปะตะฝะธะต
โ   โโโ faq/
โ       โโโ VerificationAgent.py   โ FAQ ะฐะณะตะฝั
โ
โโโ services/
    โโโ faq/
        โโโ verification.txt       โ ะะฐะทะฐ ะทะฝะฐะฝะธะน
```

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะงะตัะตะท API:

```bash
curl -X POST "http://localhost:8000/query" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "ะะฐะบ ะฒะตัะธัะธัะธัะพะฒะฐัััั ะฒ Spotify?"
  }'
```

### ะงะตัะตะท Python:

```python
from app.agents.WorkflowManager import WorkflowManager

workflow_manager = WorkflowManager()

result = workflow_manager.run_agent_workflow(
    question="ะะฐะบ ะฒะตัะธัะธัะธัะพะฒะฐัััั ะฒ Spotify?",
    uuid="unique-id"
)

print(result['answer'])
```

### ะขะตััะธัะพะฒะฐะฝะธะต:

```bash
source venv/bin/activate
python test_agents.py
```

## โ ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ FAQ ะฐะณะตะฝัะฐ

### ะจะฐะณ 1: ะกะพะทะดะฐะนัะต ัะฐะนะป ะฑะฐะทั ะทะฝะฐะฝะธะน
```bash
# app/services/faq/distribution.txt
ะะฝัะพัะผะฐัะธั ะพ ะดะธัััะธะฑััะธะธ...
```

### ะจะฐะณ 2: ะกะพะทะดะฐะนัะต ะฐะณะตะฝัะฐ
```python
# app/agents/faq/DistributionAgent.py
# (ัะบะพะฟะธััะนัะต ััััะบัััั ะธะท VerificationAgent.py)
```

### ะจะฐะณ 3: ะะฑะฝะพะฒะธัะต Orchestrator
```python
# ะ OrchestratorAgent.py ะดะพะฑะฐะฒััะต:
2. **distribution_agent** - ะะพะฟัะพัั ะพ ะดะธัััะธะฑััะธะธ
```

### ะจะฐะณ 4: ะะฑะฝะพะฒะธัะต WorkflowManager
```python
# ะะพะฑะฐะฒััะต:
self.distribution_agent = DistributionAgent()
workflow.add_node("distribution_agent", self.distribution_agent.answer)
```

## ๐ฏ ะัะตะธะผััะตััะฒะฐ

1. **ะัะพััะพัะฐ** - ะฒัะตะณะพ 2 ะฐะณะตะฝัะฐ
2. **ะะตะณะบะพ ัะฐััะธัััั** - ะดะพะฑะฐะฒะธัั ะฐะณะตะฝัะฐ = 4 ะฟัะพัััั ัะฐะณะฐ
3. **ะะฐะทะฐ ะทะฝะฐะฝะธะน** - ะพัะฒะตัั ะธะท ะฒะฐัะธั .txt ัะฐะนะปะพะฒ
4. **ะัะพะทัะฐัะฝะพััั** - ะฒะธะดะฝะพ ะบะฐะบะพะน ะฐะณะตะฝั ะพัะฒะตัะธะป

## ๐ ะัะธะผะตัั ะฒะพะฟัะพัะพะฒ

โ **ะะฐะฑะพัะฐะตั:**
- "ะะฐะบ ะฒะตัะธัะธัะธัะพะฒะฐัััั ะฒ Spotify?"
- "ะะฐะบะธะต ะดะพะบัะผะตะฝัั ะฝัะถะฝั ะดะปั Apple Music?"
- "ะกะบะพะปัะบะพ ะฒัะตะผะตะฝะธ ะทะฐะฝะธะผะฐะตั ะฒะตัะธัะธะบะฐัะธั?"
- "ะะฐะบ ะทะฐัะตะณะธัััะธัะพะฒะฐัััั ะฒ VK Studio?"

## ๐ง ะะพะฝัะธะณััะฐัะธั

ะัะต ะฝะฐัััะพะนะบะธ LLM ะฒ `.env`:
```
OPENAI_API_KEY=your_key
OPENAI_BASE_URL=https://api.openai.com/v1  # ะพะฟัะธะพะฝะฐะปัะฝะพ
```
